<ion-header>
  <ion-toolbar>
    <ion-title>Sign In</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="center-xy">
    <div [formGroup]="signInForm">

      <ion-item>
        <ion-input
          errorText="Invalid Email"
          formControlName="email"
          label="Email"
          type="text"
        ></ion-input>
      </ion-item>

      <ion-item>
        <as-toggle-password>
          <ion-input
            formControlName="password"
            label="Password"
            type="password"
          ></ion-input>
        </as-toggle-password>
      </ion-item>

      <div style="display: flex; flex-direction: column">
        <ion-label color="danger">{{signInStore.error()}}</ion-label>

        <div class="flex-row-center mt-5">
          <ion-button (click)="signInWithPassword()"
                      [disabled]="!signInForm.valid || !signInStore.loaded()"
                      color="light"
                      fill="outline">
            {{signInStore.loaded() ? 'Sign In' : 'Signing In..'}}
          </ion-button>
        </div>
        <div class="flex-row-center mt-16">
          <ion-label style="align-self: center">Not a user yet?</ion-label>
          <ion-button (click)="signUp()"
                      class="ml-4"
                      color="light"
                      fill="outline">
            Sign Up
          </ion-button>
        </div>
      </div>
    </div>
  </div>
</ion-content>
